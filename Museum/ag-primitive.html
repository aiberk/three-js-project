<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script>
      // var color = "#EF2D5E";
    </script>

    <script>
      const chosen_box = Math.floor(Math.random() * 3);
      let click_count = 0;

      AFRAME.registerComponent("foo", {
        schema: { number: { default: 0 } },
        init: function () {
          var data = this.data;
          var el = this.el;

          el.addEventListener("click", function () {
            if (this.id == chosen_box) {
              alert("Wooo!");
            } else {
              console.log("Try again" + this.id);
            }
          });
        },
        update: function (oldData) {
          this.el = this.data;
        },
        tick: function () {},
        remove: function () {},
        pause: function () {},
        play: function () {},
      });

      AFRAME.registerComponent("message", {
        schema: { value: "Chest Game" },
        init: function () {
          var data = this.data;
          var el = this.el;

          el.addEventListener("click", function () {
            el.setAttribute("visible", "false");
          });
        },
        update: function (oldData) {
          this.el = this.data;
        },
        tick: function () {},
        remove: function () {},
        pause: function () {},
        play: function () {},
      });
    </script>
  </head>
  <body>
    <a-scene id="container">
      <a-assets>
        <a-asset-item id="suzy-obj" src="assets/chest0.obj"></a-asset-item>
        <a-asset-item id="suzy-mtl" src="assets/chest2.mtl"></a-asset-item>
      </a-assets>

      <a-entity
        id="camera"
        camera="userHeight: 1.6"
        look-controls
        cursor="rayOrigin: mouse"
      ></a-entity>

      <!-- <a-text
        message
        value="Chest Game"
        scale="4 4 4"
        position="1.43411 0.79425 -2.28887"
        rotation=""
        id="main-text"
      ></a-text> -->

      <!-- <a-text
        message
        value="Chest Game"
        scale="1 1 1"
        position="0 1 -2"
        rotation=""
        id="main-text"
      ></a-text> -->

      <a-text
        message=""
        value="Chest Game"
        scale=""
        position="-0.6 0.58877 -2"
        rotation=""
        id="main-text"
        text=""
      ></a-text>

      <a-box
        foo
        id="0"
        color="#EF2D5E"
        position="0 0 -4"
        event-set__enter="_event: mouseenter; color: #026fc9"
        event-set__leave="_event: mouseleave; color: #EF2D5E"
      ></a-box>

      <a-box
        foo
        id="1"
        color="#EF2D5E"
        position="2 0 -4"
        event-set__enter="_event: mouseenter; color: #026fc9"
        event-set__leave="_event: mouseleave; color: #EF2D5E"
      ></a-box>

      <a-box
        foo
        id="2"
        color="#EF2D5E"
        position="-2 0 -4"
        event-set__enter="_event: mouseenter; color: #026fc9"
        event-set__leave="_event: mouseleave; color: #EF2D5E"
      ></a-box>

      <a-sky color="#FFCCAA"></a-sky>
    </a-scene>
    <h1 style="z-index: 0 !important">Hel</h1>
  </body>
</html>
